<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>jQuery</title>
    <link rel="stylesheet" href="../../common/css/reset.css">
    <link rel="stylesheet" href="../../common/css/base.css">
    <link rel="stylesheet" href="./css/style.css">
  </head>
  <body>
    <div class="wrapper">
      <div class="slider-wrap">
        <div class="slider-area">
          <ul class="slider-list clearfix">
            <li><img src="./img/1.jpg"></li>
            <li><img src="./img/2.jpg"></li>
            <li><img src="./img/3.jpg"></li>
            <li><img src="./img/4.jpg"></li>
          </ul>
          <button type="button" class="slider-ctrl-btn is-prev" data-ctrl="prev"></button>
          <button type="button" class="slider-ctrl-btn is-next" data-ctrl="next"></button>
        </div>
      </div>
    </div>
    <script src="../../common/js/jquery.js"></script>
    <script>
      // 今回やるのはスライドショーです。
      // 右方向には右のボタンを押すと移動し、左方向には左のボタンを押すと移動する。また右端にいる状態で右のボタンを押すと最初の位置に戻り、 左端にいる状態で左のボタンを押すと最後の位置に移動する。data属性にprev,nextを記述してあるのでこちらを取得すると楽です。
      // 位置情報は配列に格納しておき、右のボタンをクリックするたびに配列の添字を1追加し、左のボタンをクリックすると配列の添字を1減らします。そうすることによって次の座標が取得できます。その座標にアニメーションさせるととても楽です。
      $(function(){
        var $slideList = $(".slider-list");
        var $scb = $(".slider-ctrl-btn");
        var contentsWidth,length = $slideList.find("li").length;//写真の幅を格納する,写真の枚数を格納する
        var numArray = [];//この配列にslider-listの一番左の座標をそれぞれ格納
        var clickData, numData = 0;//data属性を格納する変数と座標データを格納する変数を用意、numDataは座標データの添字
        for(var i=0; i<length; i++){
          if(i === 0){
            numArray[0] = 0;//添字０は一番左端なので0を代入
          }else{
            contentsWidth = $slideList.find("li").eq(i-1).width();//写真の幅を取得
            numArray[i] = numArray[i-1] + contentsWidth;//一つ前の写真の幅を足す事で座標となる。
          }
        }
        $scb.on("click", function(){//スライドボタンを押した時
          clickData = $(this).data("ctrl");//クリックしたボタンの属性を格納
          console.log(clickData);//デバック
          if(clickData === "next"){//deta属性がnextならば
            if(numData < length-1){//添字が写真の枚数以下ならば
              numData++;//添字を１つ増やし
            }else{//そうでないなら
              numData = 0;//添字を0にする
            }
            console.log(numData);//デバック用
          }
          else if(clickData === "prev"){//data属性がprevならば
            if(numData > 0){//添字が１以上ならば
              numData--;//添字を減らす
            }else{//そうでないなら
              numData = length - 1;//添字を写真の枚数ー１にする
            }
            console.log(numData);//デバック用
          }
          $slideList.animate({left:-numArray[numData]});//指定された座標までアニメーション
        });
      });
      // [使用するメソッド]
      // .animate({}) cssのプロパティを一定時間かけて変化させます。アニメーションです。
      // .data() 要素のdata属性を取得します。
      // .width() 要素の幅を取得します。
      // .length 要素の個数を取得します。
    </script>
  </body>
</html>
